{% extends "base.html" %}
{% block content %}
<div class="container mx-auto px-6 py-10 text-black">
  <div class="flex items-center mb-8">
    <h1 class="text-3xl font-bold">My Reviews</h1>
  </div>

  {% if reviews %}
    {% for review in reviews %}
      <div class="bg-white/60 rounded-2xl p-6 mb-6 shadow-md">
        <h2 class="text-xl font-bold text-purple-900 mb-1">{{ review[1] }}</h2>

      
        {% if review[1] %}
          <p class="text-sm text-gray-700 mb-2 font-medium">by {{ review[2] }}</p>
        {% endif %}

      
        {% set user_rating = review[5]|int %}
        <div class="flex items-center text-lg mb-2">
          {% for i in range(1, 6) %}
            {% if i == user_rating|int %}
              <span class="text-yellow-500 text-xl">&#9733;</span>
            {% else %}
              <span class="text-gray-300 text-xl">&#9733;</span>
            {% endif %}
          {% endfor %}
        </div>

      
        {% if review[6] %}
          <p class="italic mb-3 text-gray-800">‚Äú{{ review[6] }}‚Äù</p>
        {% endif %}

        
        {% if review[2] %}
          <p class="text-sm text-purple-700 mb-2">
            {{ review[2].replace(';', ',') }}
          </p>
        {% endif %}

      
        {% if review[4] %}
          <p class="text-sm text-gray-700 mb-1">Average Rating: {{ review[4] }}</p>
        {% endif %}

        
        {% if review[3] %}
          <p class="text-xs text-gray-500">Genres: {{ review[3] }}</p>
        {% endif %}
      </div>
    {% endfor %}
  {% else %}
    <p class="text-center text-gray-600 italic">No reviews yet. Time to spill your thoughts üí≠‚ú®</p>
  {% endif %}
</div>
{% endblock %}


